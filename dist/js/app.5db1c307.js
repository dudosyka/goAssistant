(function(e){function t(t){for(var n,l,i=t[0],r=t[1],c=t[2],u=0,d=[];u<i.length;u++)l=i[u],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&d.push(o[l][0]),o[l]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);A&&A(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,i=1;i<a.length;i++){var r=a[i];0!==o[r]&&(n=!1)}n&&(s.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},o={app:0},s=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var A=r;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"237d":function(e,t,a){e.exports=a.p+"img/lang_jp.dba1a9c5.png"},"3dfd":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:"slide-fade"}},[a("router-view")],1)],1)},o=[],s={name:"Menu",data(){return{alreadyLogin:!1}},components:{},methods:{},created(){this.alreadyLogin=null!=storage("token")}},l=s,i=(a("034f"),a("2877")),r=Object(i["a"])(l,n,o,!1,null,null,null);t["a"]=r.exports},4794:function(e,t,a){e.exports=a.p+"img/lang_en.e2132738.png"},"568f":function(e,t,a){"use strict";a("c457")},"56d7":function(e,t,a){"use strict";a.r(t),function(e){var t=a("2b0e"),n=a("3dfd"),o=a("a18c"),s=a("bc3a");console.log(localStorage);let l=localStorage.getItem("token");e.redirectTo=e=>{o["a"].push({name:e}).catch(e=>{})},e.request=(e,t,a,n,o)=>{let l=new FormData;return null!==a&&Object.keys(a).map(e=>{l.append(e,a[e])}),s({method:t,url:"http://server.mindgamehack.ru"+e,data:l,headers:{"Content-Type":"multipart/form-data"}}).then(e=>n(e)).catch(e=>{o(e)})},e.get=async(e,t=null,a,n=(e=>{console.log(e)}))=>request(e,"get",t,a,n),e.post=async(e,t=null,a,n=(e=>{console.log(e)}))=>request(e,"post",t,a,n),e.storage=e=>localStorage.getItem(e),e.setStorage=(e,t)=>localStorage.setItem(e,t),e.startGame=e=>{setStorage("curGameId",e),window.location="/game"},e.showLoader=!1,e.getCurUser=async()=>{const e=storage("curUserData");return null!==e&&""!==e&&"null"!==e?new Promise((e,t)=>{e(JSON.parse(storage("curUserData")))}):get("/user/profile?token="+storage("token"),null,e=>{const t={avatar:e.data.user.avatar,nickname:e.data.user.nickname};return setStorage("curUserData",JSON.stringify(t)),t})},e.logout=function(){setStorage("curUserData",""),setStorage("token",null),window.location.reload()},o["a"].afterEach(async(e,t)=>{let a=!0;a=null!==l,a&&(a="null"!=l&&""!=l),"/login"==e.path&&a&&redirectTo("Home"),a||redirectTo("Authorization")}),new t["a"]({router:o["a"],render:e=>e(n["a"])}).$mount("#app")}.call(this,a("c8ba"))},7503:function(e,t,a){},"82db":function(e,t,a){"use strict";a("7503")},"85ec":function(e,t,a){},8744:function(e,t,a){"use strict";a("c500")},a18c:function(e,t,a){"use strict";var n=a("2b0e"),o=a("8c4f"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"menu"},[n("aside",{directives:[{name:"show",rawName:"v-show",value:e.showLoader,expression:"showLoader"}],staticClass:"modal loading"},[n("header",{staticClass:"modal"},[n("h1",{staticClass:"modal"},[e._v(e._s(e.loaderMsg))]),n("span"),e._m(0)])]),n("article",{staticClass:"menu"},[n("div",{staticClass:"main-layout"},[n("div",{staticClass:"profile w3-card-4"},[n("router-link",{staticClass:"bookmark",attrs:{to:"/passport"}},[n("img",{attrs:{src:e.ava}}),n("br"),n("span",[e._v(e._s(e.nick))])]),n("br"),n("button",{staticClass:"button full-width w3-button w3-card-4 tr w3-hover-white door",staticStyle:{"font-size":"20px"},on:{click:function(t){return e.logout()}}},[e._v(e._s(e.localeData.logout))])],1),n("div",{staticStyle:{"min-width":"fit-content"}},[e.alreadyStart?n("button",{staticClass:"button full-width w3-button w3-card-4 tr w3-hover-white point",on:{click:function(t){return e.continueGame()}}},[e._v(e._s(e.localeData.continue))]):e._e(),n("button",{staticClass:"button full-width w3-button w3-card-4 tr w3-hover-white hi",attrs:{disabled:e.alreadyStart},on:{click:function(t){return e.randomGame()}}},[e._v(e._s(e.localeData.random))]),n("button",{staticClass:"button full-width w3-button w3-card-4 tr w3-hover-white lamp",attrs:{disabled:e.alreadyStart},on:{click:function(t){return e.startGameWithBot()}}},[e._v(e._s(e.localeData.ai))]),n("router-link",{staticClass:"button full-width w3-button w3-card-4 tr w3-hover-white loocker",attrs:{to:"/closegame",tag:"button",disabled:e.alreadyStart}},[e._v(e._s(e.localeData.closed))]),n("div",{staticClass:"w3-center"},[n("img",{staticClass:"w3-image flag",attrs:{src:a("da7d")},on:{click:function(t){return e.changeLanguage("ru")}}}),n("img",{staticClass:"w3-image flag",attrs:{src:a("4794")},on:{click:function(t){return e.changeLanguage("en")}}}),n("img",{staticClass:"w3-image flag",attrs:{src:a("237d")},on:{click:function(t){return e.changeLanguage("jp")}}})])],1)])])])},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lds-ellipsis"},[a("div"),a("div"),a("div"),a("div")])}];let i=function(e){this.language="ru"==e?r:"jp"==e?A:c},r={onBoard:"Камней на поле",spentOnHints:"Потрачено на подсказки:",score:"очков",gameStage:{label:"Стадия игры:",0:"Начальная",1:"Основная",2:"Финальная",3:"Игра окончена"},recommendedHints:"Рекомендуемые подсказки",allHints:"Все подсказки",hideAll:"Скрыть все",cost:"Стоимость: ",hints:{bestQuarter:"Лучшая четверть для игры",bestEnemyQuarter:"Четверть игры противника",bestMoveOfSelected:"Лучший ход из выбранных",selectedError:"Выбранные вами ходы равносильны и не повлияют на игру - можете играть в любом поле",heatmap:"Тепловая карта доски",heatmapZone:"Тепловая карта зоны",heatmap2Zones:"Тепловая карта 2 зон",bestMove1:"Зона лучшего хода",bestMove2:"Зона 2 лучших ходов",bestMove4:"4 лучших хода",bestEnemyMove1:"Самая опасная зона",bestEnemyMove4:"4 опасных зоны",prediction6:"Прогноз игры (6 ходов)",prediction10:"Прогноз игры (10 ходов)",superiority:"Перевес в очках",superiorityLabels:{current:"Текущий перевес в очках: ",noHints:"без учета подсказок",winner:"На данный момент побеждают: ",white:"Белые",black:"Черные",loseNow:"Вы находитесь в проигрышной ситуации, для удобства были подсвечены самые полезные подсказки - настоятельно рекомендуем вам их использовать для победы.",winNow:"Вы находитесь в выигрышной ситуации, используйте подсказки для отражения последующих атак и победите в этой игре!"},select1:"Выберите поле",select1_z:"Выберите поле, зона которого вас интересует",select2:"Выберите 2 поля, зоны которых вас интересуют",select4:"Выберите 4 поля",fetching:"Получение данных...",noAnswerTitle:"Результат подсказки",noAnswerText:"ИИ для подсказок считает, что исход партии уже очевиден, поэтому рекомендует одному из игроков сдаться, узнать победителя и проигравшего можно с помощью подсказки 'Перевес в очках'"},loading:"Загрузка...",pass:"Пас",resign:"Сдаться",historyShort:"История",history:"История ходов",counter:"Счет",winner:"Победитель: ",winnerCount:"Очки победителя: ",loser:"Проигравший: ",loserCount:"Очки проигравшего: ",hintCount:"подсказки: ",backToMenu:"В главное меню",backToProfile:"Вернуться в профиль",moves:"Ходы",viewMode:"Режим просмотра игры",menu:{continueGame:"Продолжить игру",random:"Игра со случайным соперником",ai:"Игра с ИИ",private:"Частная игра",create:"Создать",gobanCode:"Код вашего гобана",start:"Начать игру",connect:"Присоединиться",fillGobanCode:"Укажите код гобана",back:"Назад",logout:"Выйти",profile:"Профиль",nickname:"Ник: ",mail:"Почта: ",close:"Закрыть",loadGame:"Загрузка партии",searchingEnemy:"Поиск противника",loadingBot:"Подключение к боту",waiting:"Ожидание присоединения",gameConnection:"Присоединение к игре",gameNotFound:"Игра с указанным кодом не найдена! Проверьте правильность написания кода гобана и повторите попытку",emailExists:"Такой e-mail адрес уже есть в системе! Попробуйте войти.",login:"Войти",register:"Зарегистрироваться",error:"Ошибка!",waitingEnemy:"Ожидание соперника"}},c={onBoard:"Stones on field",spentOnHints:"Spent on hints:",score:"points",gameStage:{label:"Game stage:",0:"Starter",1:"Middle",2:"Final",3:"Game over"},recommendedHints:"Recommended hints",allHints:"All hints",hideAll:"Hide hints",cost:"Cost: ",hints:{bestQuarter:"Best quarter to play",bestEnemyQuarter:"Best enemy quarter",bestMoveOfSelected:"Best of selected",selectedError:"Your chosen moves are equal and will not affect the game - you can play in any field",heatmap:"Goban heatmap",heatmapZone:"Heatmap of quarter",heatmap2Zones:"Heatmap of 2 quarters",bestMove1:"Best move zone",bestMove2:"Zones of 2 best moves",bestMove4:"4 best moves",bestEnemyMove1:"The most dangerous zone",bestEnemyMove4:"4 danger zones",prediction6:"Game forecast (6 moves)",prediction10:"Game forecast (10 moves)",superiority:"Superiority",superiorityLabels:{current:"Current advantage in points: ",noHints:"without hint score",winner:"Currently wins: ",white:"White",black:"Black",loseNow:"You are in a losing situation, for convenience, the most useful hints have been highlighted - we strongly recommend use them to win.",winNow:"You are in a winning situation, use the hints to repel subsequent attacks and win this game!"},select1:"Select a field",select1_z:"Select the field whose quarter you are interested in",select2:"Select 2 fields, the quarters of which you are interested in",select4:"Select 4 fields",fetching:"Fetching info...",noAnswerTitle:"Hint result",noAnswerText:"The AI for hints believes that the outcome of the game is already obvious, so it recommends resign to one of the players, you can find out the winner and the loser using the 'Superiority' hint"},loading:"Loading...",pass:"Pass",resign:"Resign",historyShort:"History",history:"Game history",counter:"Result",winner:"Winner: ",winnerCount:"Winner's score: ",loser:"Loser: ",loserCount:"Loser's score: ",hintCount:"hints: ",backToMenu:"Back to menu",backToProfile:"Back to profile",moves:"Moves",viewMode:"Game view mode",menu:{continueGame:"Continue game",random:"Play with a random opponent",ai:"Play with AI",private:"Private game",create:"Create",gobanCode:"Your goban code",start:"Start game",connect:"Connect",fillGobanCode:"Enter the goban code",back:"Back",logout:"Log out",profile:"Profile",nickname:"Nickname: ",mail:"EMail: ",close:"Close",loadGame:"Loading the game",searchingEnemy:"Searching for an opponent",loadingBot:"Connecting to the bot",waiting:"Waiting for the opponent",gameConnection:"Joining the game",gameNotFound:"The game with the specified code was not found! Please check the correct spelling of the goban code and try again",emailExists:"This e-mail address is already in the system! Try logging in.",login:"Log in",register:"Register",error:"Error!",waitingEnemy:"Waiting for the opponent"}},A={onBoard:"フィールド上の碁石",spentOnHints:"ヒントで使用したポイント数: ",score:"ポイント",gameStage:{label:"ゲームステージ:",0:"スタート",1:"中間",2:"最終ステージ",3:"ゲームオーバー"},recommendedHints:"おすすめヒント",allHints:"全てのヒント",hideAll:"ヒントを隠す",cost:"コスト: ",hints:{bestQuarter:"おすすめクォーター",bestEnemyQuarter:"対戦相手のベストクォーター",bestMoveOfSelected:"選択プレイ中のベスト",selectedError:"あなたの選択したプレイは平等であり、ゲームを影響することはありません。",heatmap:"碁盤ヒートマップ",heatmapZone:"クォーターのヒートマップ",heatmap2Zones:"2クォーターのヒートマップ",bestMove1:"ベストムーブゾーン",bestMove2:"ベストムーブゾーン2択",bestMove4:"ベストムーブゾーン4択",bestEnemyMove1:"危険ゾーン",bestEnemyMove4:"4つの危険ゾーン",prediction6:"6手先までのゲーム予測",prediction10:"10手先までのゲーム予測",superiority:"優勢(現在の勝者)",superiorityLabels:{current:"現在の優勢ポイント: ",noHints:"ヒント無しのスコア",winner:"現在の勝者: ",white:"白",black:"黒",loseNow:"あなたは現在負けを予測されています。最善のヒントをハイライトします。ハイライトされたものを選択することをお勧めします。",winNow:"あなたは現在優勝傾向です。ヒントを使い、相手の攻撃を封じ優勝しよう！"},select1:"フィールドを選択",select1_z:"クォーター中のフィールドを選択",select2:"クォーター中のフィールドを2個選択",select4:"4つのフィールドを選択",fetching:"情報採取中",noAnswerTitle:"ヒント結果",noAnswerText:"AIはゲーム結果を予測し、辞退をおすすめしています。勝者と敗者を「優勢(現在の勝者)」で見ることができます"},loading:"読み込み中",pass:"パス",resign:"辞任する",historyShort:"履歴",history:"ゲーム履歴",counter:"結果",winner:"優勝者: ",winnerCount:"優勝者スコア: ",loser:"敗北: ",loserCount:"敗北者スコア: ",hintCount:"ヒント: ",backToMenu:"メニューへ戻る",backToProfile:"プロファイルへ戻る",moves:"動き",viewMode:"モードを閲覧",menu:{continueGame:"ゲームを続ける",random:"ランダムな相手と対戦する。",ai:"AIと対決",private:"プライベートゲーム",create:"制作",gobanCode:"あなたのコード",start:"ゲームを始める",connect:"接続",fillGobanCode:"碁盤コードを入力",back:"戻る",logout:"ログアウト",profile:"プロファイル",nickname:"ニックネーム: ",mail:"メール: ",close:"閉じる",loadGame:"ゲームをロード中",searchingEnemy:"対戦相手を検索中",loadingBot:"ボットと接続中",waiting:"対戦相手を検索中",gameConnection:"ゲームに接続中",gameNotFound:"このコードに当てはまるゲームは検出されませんでした。もう一度確認をし、再度入力をしてください。",emailExists:"このメールアドレスはすでにシステムに登録されています。ログインをしてください。",login:"ログイン",register:"登録",error:"エラー",waitingEnemy:"対戦相手を検索中"}};var u=i,d=a("7e3c"),m={name:"Menu",data(){return{alreadyStart:!1,ava:"https://www.castorama.ru/media/catalog/product/cache/image/1800x/040ec09b1e35df139433887a97daa66f/2/e/2ef250_510229_1.jpg",nick:"ex@mple",search:!1,showLoader:!1,client:!1,locale:null,localeData:{logout:"",continue:"",random:"",ai:"",closed:""}}},components:{},methods:{changeLanguage(e){localStorage.setItem("lang",e),window.location.reload()},logout(){logout()},continueGame(e=!0,t=!0){this.loaderMsg=this.locale.language.menu.loadGame,t||(this.showLoader=!0),get("/game/current?token="+storage("token"),null,t=>{this.showLoader=!1,null!==t.data.gameId?this.alreadyStart=!0:setStorage("curGameId",null),e&&startGame(t.data.gameId)})},randomGame(){this.loaderMsg=this.locale.language.menu.searchingEnemy,this.showLoader=!0,post("/game/create/random?token="+storage("token"),null,e=>{setStorage("curGameId",e.data.gameId);const t=new d["w3cwebsocket"]("ws://185.22.62.66:41239");t.onopen=function(){console.log("WebSocket opened"),t.send(JSON.stringify([5,"go/game"])),t.send(JSON.stringify([7,"go/game",{command:"auth",token:storage("token"),game_id:e.data.gameId}]))},t.onmessage=function(t){let a=JSON.parse(t.data).payload;"userConnected"==a.type&&(get("/user/profile?token="+storage("token"),null,t=>{console.log("DATA_user",t),t.data.user.id!==a.userId&&(startGame(e.data.gameId),window.location="/game")}),console.log(11)),console.log(e)}})},startGameWithBot(){this.loaderMsg=this.locale.language.menu.loadingBot,this.showLoader=!0,post("/game/create/bot?token="+storage("token"),null,e=>{this.showLoader=!1,setStorage("curGameId",e.data.gameId),startGame(e.data.gameId)})}},async created(){let e=this;null==localStorage.getItem("lang")&&localStorage.setItem("lang","ru"),e.locale=new u(localStorage.getItem("lang"));let t=e.locale.language;this.localeData.logout=t.menu.logout,this.localeData.continue=t.menu.continueGame,this.localeData.random=t.menu.random,this.localeData.ai=t.menu.ai,this.localeData.closed=t.menu.private,getCurUser().then(e=>{console.log(e),this.ava=e.avatar,this.nick=e.nickname}),this.continueGame(!1,!0)}},g=m,p=a("2877"),h=Object(p["a"])(g,s,l,!1,null,"a88a2044",null),w=h.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"menu"},[n("div",{staticClass:"w3-modal",attrs:{id:"modal"}},[n("div",{staticClass:"w3-modal-content w3-animate-top w3-card-4"},[e._m(0),n("div",{staticClass:"w3-container"},[n("p",{attrs:{id:"modalText"}},[e._v(e._s(e.localeData.emailExists))])]),n("footer",{staticClass:"w3-container w3-purple",attrs:{id:"modalFooter"}})])]),n("article",{staticClass:"form_window"},[n("header",{staticClass:"form_title"},[n("button",{class:0==e.lever?"attention":"",on:{click:function(t){e.lever=0}}},[e._v(e._s(e.localeData.login))]),e._v(" \\ "),n("button",{class:1==e.lever?"attention":"",on:{click:function(t){e.lever=1}}},[e._v(e._s(e.localeData.register))])]),n("div",{staticClass:"row"},[n("div",[n("section",{directives:[{name:"show",rawName:"v-show",value:!e.lever,expression:"!lever"}],staticClass:"form_login"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input",attrs:{type:"email",placeholder:"Email",invalid:e.valid.email},domProps:{value:e.email},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.auth()},input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",staticStyle:{margin:"0"},attrs:{type:"password",placeholder:"Password",invalid:e.valid.pass},domProps:{value:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.auth()},input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("section",{directives:[{name:"show",rawName:"v-show",value:e.lever,expression:"lever"}],staticClass:"form_signup"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input",attrs:{type:"text",placeholder:"Email",invalid:e.valid.email},domProps:{value:e.email},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.auth()},input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.nickname,expression:"nickname"}],staticClass:"input",staticStyle:{margin:"0"},attrs:{type:"text",placeholder:"Nickname",invalid:e.valid.nick},domProps:{value:e.nickname},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.auth()},input:function(t){t.target.composing||(e.nickname=t.target.value)}}})])]),n("button",{staticClass:"button w3-button w3-card-4 tr w3-hover-white",on:{click:function(t){return e.auth()}}},[e._v("➤")])]),n("div",{staticClass:"w3-center"},[n("img",{staticClass:"w3-image flag",attrs:{src:a("da7d")},on:{click:function(t){return e.changeLanguage("ru")}}}),n("img",{staticClass:"w3-image flag",attrs:{src:a("4794")},on:{click:function(t){return e.changeLanguage("en")}}}),n("img",{staticClass:"w3-image flag",attrs:{src:a("237d")},on:{click:function(t){return e.changeLanguage("jp")}}})])])])},b=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"w3-container w3-purple"},[a("span",{staticClass:"w3-button w3-display-topright",attrs:{onclick:"document.getElementById('modal').style.display='none'"}},[e._v("×")]),a("h2",{attrs:{id:"modalHeader"}},[e._v("-")])])}],v={name:"Login",data(){return{email:null,password:null,nickname:null,lever:0,valid:{email:!1,pass:!1,nick:!1},locale:null,localeData:{emailExists:"",login:"",register:""}}},components:{},methods:{changeLanguage(e){localStorage.setItem("lang",e),window.location.reload()},auth(){this.valid={email:!1,pass:!1,nick:!1},this.lever?post("/user/register",{email:this.email,nickname:this.nickname},e=>{""!=e.data.error?(this.valid.email=!0,this.showModal(this.locale.language.menu.error)):(localStorage.setItem("token",e.data.token),window.location=window.location)}):post("/user/login",{email:this.email,password:this.password},e=>{""!=e.data.error?(this.valid.email=!0,this.valid.pass=!0):(setStorage("token",e.data.token),window.location=window.location)})},showModal(e,t=""){document.getElementById("modal").style.display="block",document.getElementById("modalHeader").innerHTML=e,document.getElementById("modalFooter").innerHTML=`<button class="w3-button w3-white w3-hover-white w3-card-4 tr" onclick="document.getElementById('modal').style.display='none'">${this.locale.language.menu.close}</button>`}},created(){null==localStorage.getItem("lang")&&localStorage.setItem("lang","ru"),this.locale=new u(localStorage.getItem("lang"));let e=this.locale.language;this.localeData.emailExists=e.menu.emailExists,this.localeData.login=e.menu.login,this.localeData.register=e.menu.register}},y=v,C=(a("d6db"),Object(p["a"])(y,f,b,!1,null,null,null)),k=C.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticClass:"section w3-text-white",staticStyle:{width:"300px",display:"inline-block"}},[a("div",{staticClass:"moveDiv"},[e._v("⚫ "),a("b",{staticClass:"textLimiter",attrs:{id:"blackPlayerName"}},[e._v(e._s(e.localeData.loading))]),a("span",{staticClass:"time-icon"},[e._v("⏳")]),a("span",{attrs:{id:"blackTimer"}},[e._v("--:--")])]),a("div",{staticClass:"moveDiv"},[e._v("⚪ "),a("b",{staticClass:"textLimiter",attrs:{id:"whitePlayerName"}},[e._v(e._s(e.localeData.loading))]),a("span",{staticClass:"time-icon"},[e._v("⏳")]),a("span",{attrs:{id:"whiteTimer"}},[e._v("--:--")])])]),a("br"),a("div",{staticClass:"gobanTexture",attrs:{id:"game"}}),a("br"),a("button",{staticClass:"w3-button w3-white w3-hover-white tr",attrs:{id:"passButton"}},[e._v(e._s(e.localeData.pass))]),a("button",{staticClass:"w3-button w3-white w3-hover-white tr",attrs:{id:"resignButton"}},[e._v(e._s(e.localeData.resign))]),a("br"),a("span",{attrs:{id:"specialMessages"}})]),a("div",{staticClass:"w3-sidebar w3-bar-block w3-white",staticStyle:{width:"300px",left:"0",top:"0px","line-height":"2",overflow:"hidden"}},[a("div",{staticClass:"w3-container w3-card-2 w3-center",staticStyle:{padding:"10px"}},[e._v("GoAssistant")]),a("div",{staticClass:"bar",staticStyle:{overflow:"auto","padding-bottom":"40px"}},[a("div",{staticClass:"section"},[a("span",{staticClass:"opposite"},[a("div",[e._v(e._s(e.localeData.onBoard)+": ")]),a("b",{attrs:{id:"blockCount"}},[e._v("0")])]),a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("div",[e._v(e._s(e.localeData.spentScore)+" ")]),a("span",{staticClass:"opposite"},[a("div",[e._v("⚫ "),a("b",{attrs:{id:"blackHints"}},[e._v("0")]),e._v(" "+e._s(e.localeData.score))]),a("div",[a("b",{attrs:{id:"whiteHints"}},[e._v("0")]),e._v(" "+e._s(e.localeData.score)+" ⚪")])])]),a("span",{staticClass:"opposite"},[a("div",[e._v(e._s(e.stage)+" "+e._s(e.localeData.gameStage)+" ")]),a("b",{attrs:{id:"gameStage"}},[e._v("N/A")])])]),a("span",{attrs:{id:"recommendedHelpersLabel"}},[a("span",{staticClass:"icon"},[e._v("💡")]),e._v(" "+e._s(e.localeData.recommended))]),a("div",{attrs:{id:"recommendedHelpers"}}),a("br"),a("button",{staticClass:"w3-button main_color w3-hover-black tr helperButton",attrs:{id:"allHelpersButton"}},[e._v(e._s(e.localeData.allHelpers))]),a("div",{staticStyle:{display:"none"},attrs:{id:"allHelpers"}})])]),a("div",{staticStyle:{right:"0",top:"0",position:"absolute"}},[a("button",{staticClass:"w3-button w3-card-4 tr w3-text-white w3-large",attrs:{onclick:"document.getElementById('gameStoryBar').style.display = 'block'"}},[e._v("☰ "+e._s(e.localeData.historyShort))])]),a("div",{staticClass:"w3-sidebar w3-bar-block w3-white w3-animate-right",staticStyle:{width:"270px",right:"0",top:"0px",overflow:"hidden",display:"none"},attrs:{id:"gameStoryBar"}},[a("div",{staticClass:"w3-container w3-card-4 w3-center",staticStyle:{padding:"10px"}},[e._v(" "+e._s(e.localeData.history)+" "),a("span",{staticClass:"w3-button w3-display-topright tr",attrs:{onclick:"document.getElementById('gameStoryBar').style.display='none'"}},[e._v("×")])]),a("div",{staticStyle:{overflow:"auto","max-height":"calc(100% - 25px)","padding-bottom":"18px"},attrs:{id:"moveHistory"}})]),e._m(0)])},_=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w3-modal",attrs:{id:"modal"}},[a("div",{staticClass:"w3-modal-content w3-animate-top w3-card-4"},[a("header",{staticClass:"w3-container w3-purple"},[a("h2",{attrs:{id:"modalHeader"}},[e._v("-")])]),a("div",{staticClass:"w3-container"},[a("p",{attrs:{id:"modalText"}},[e._v("Some text..")])]),a("footer",{staticClass:"w3-container w3-purple",attrs:{id:"modalFooter"}})])])}];let E=function(e){this.gameId=e};const Q="DgiBGmNOfOAvlwo5";E.prototype.bestMoves=async function(e){return await get("/hints/best-moves?token="+storage("token")+"&centaur_token="+Q+"&count="+e+"&game_id="+this.gameId,null,e=>e.data.hint.map(e=>e.move))},E.prototype.bestMovesEnemy=async function(e){return await get("/hints/best-moves-enemy?token="+storage("token")+"&centaur_token="+Q+"&count="+e+"&game_id="+this.gameId,null,e=>e.data.hint.map(e=>e.move))},E.prototype.bestMovesOf=async function(e){return await get("/hints/show-best?token="+storage("token")+"&centaur_token="+Q+"&moves="+e.join()+"&game_id="+this.gameId,null,e=>e)},E.prototype.simpleRequest=async function(e){return await get("/hints/"+e+"?token="+storage("token")+"&centaur_token="+Q+"&game_id="+this.gameId,null,e=>e.data.hint)},E.prototype.superiority=async function(){return await this.simpleRequest("superiority")},E.prototype.fullHeatmap=async function(){return await this.simpleRequest("heatmap-full")},E.prototype.heatmapQuarter=async function(e){return await get("/hints/heatmap-quarter?token="+storage("token")+"&centaur_token="+Q+"&quarter="+e+"&game_id="+this.gameId,null,e=>e.data.hint)},E.prototype.heatmapQuarters=async function(e){return await get("/hints/heatmap-two-quarters?token="+storage("token")+"&centaur_token="+Q+"&quarters="+e.join()+"&game_id="+this.gameId,null,e=>e.data.hint)},E.prototype.heatmapBestZone=async function(e){return await get("/hints/heatmap-best-move-zone?token="+storage("token")+"&centaur_token="+Q+"&is_quarters="+e+"&game_id="+this.gameId,null,e=>e.data.hint)},E.prototype.heatmapEnemyBestZone=async function(e){return await get("/hints/heatmap-best-enemy-move-zone?token="+storage("token")+"&centaur_token="+Q+"&is_quarters="+e+"&game_id="+this.gameId,null,e=>e.data.hint)},E.prototype.futureMoves=async function(e){return await get("/hints/future-moves?token="+storage("token")+"&centaur_token="+Q+"&count="+e+"&game_id="+this.gameId,null,e=>e)},E.prototype.bestEnemyMovesOf=async function(e){return await get("/hints/show-best-enemy?token="+storage("token")+"&centaur_token="+Q+"&moves="+e.join()+"&game_id="+this.gameId,null,e=>e)},E.prototype.gameInfo=async function(){return await get("/game/info/"+this.gameId+"?token="+storage("token"),null,e=>e)};var B=E,S={name:"Home",components:{},data(){return{game:null,client:null,locale:null,stage:"🟢",localeData:{loading:"",pass:"",resign:"",onBoard:"",spentScore:"",score:"",gameStage:"",recommended:"",allHelpers:"",historyShort:"",history:""}}},methods:{async loadGame(){return get("/game/info/"+storage("curGameId")+"?token="+storage("token"),null,e=>e)},move(e){this.client.send(JSON.stringify([7,"go/game",{command:e,token:storage("token"),game_id:storage("curGameId")}]))},sendMove(e){this.client.send(JSON.stringify([7,"go/game",{command:"move",token:storage("token"),place:e.toString().toLowerCase(),game_id:storage("curGameId")}]))},sendPass(){this.move("pass")},sendResign(){this.move("resign")}},async created(){let e=this;null==localStorage.getItem("lang")&&localStorage.setItem("lang","ru"),e.locale=new u(localStorage.getItem("lang"));let t=e.locale.language;this.localeData.loading=t.loading,this.localeData.pass=t.pass,this.localeData.resign=t.resign,this.localeData.onBoard=t.onBoard,this.localeData.spentScore=t.spentOnHints,this.localeData.score=t.score,this.localeData.gameStage=t.gameStage.label,this.localeData.recommended=t.recommendedHints,this.localeData.allHelpers=t.allHints,this.localeData.historyShort=t.historyShort,this.localeData.history=t.history;let a=-1,n=!0,o=!1;function s(a){let s=JSON.parse(a.data);try{if(console.log("PC:"+A),"currentMap"!=s.payload.type&&"newTurn"!=s.payload.type||(Q="black"==s.payload.turn?M.BLACK:M.WHITE,ce(),E=s.payload.turnBlackEndedAt,_=s.payload.turnWhiteEndedAt,console.log(E),console.log(_),de()),"currentMap"==s.payload.type){A="w"==s.payload.player?M.WHITE:M.BLACK,c=A==M.WHITE&&"white"==s.payload.turn||A==M.BLACK&&"black"==s.payload.turn,ce(),console.log("Parsing current map..."),s.payload.currentMap=U(s.payload.currentMap),Z(s.payload.currentMap),console.log("Current map parsed.");let t=s.payload.you.nickname,a=s.payload.opponent.nickname;if("Противник"==a&&s.payload.opponent.avatar.length<1)return e.sendResign(),o=!0;A==M.WHITE?(m=t,g=a,q("whitePlayerName").innerHTML=t,q("blackPlayerName").innerHTML=a):(m=a,g=t,q("whitePlayerName").innerHTML=a,q("blackPlayerName").innerHTML=t),n&&(ie(),N(),n=!1)}if("newTurn"==s.payload.type){s.payload.currentMap=U(s.payload.currentMap),Z(s.payload.currentMap);let e=M.BLACK;"black"==s.payload.turn&&(e=M.WHITE);let t=s.payload.place;"pass"==s.payload.moveType&&(t=null),le(e,s.payload.move.split("(")[0],s.payload.place,!1,A==(e==M.BLACK?M.WHITE:M.BLACK)),Q=e==M.BLACK?M.WHITE:M.BLACK,c=A==Q,ce()}if("endGame"==s.payload.type){if(o)return window.location.href="/";S=3,re();let e=s.payload.finalScore,a=(s.payload.winner.toLowerCase(),{nickname:s.payload.loserPlayer.nickname,finalScore:s.payload.loserPlayer.finalScore,hintScore:s.payload.loserPlayer.hintScore}),n={nickname:s.payload.winnerPlayer.nickname,finalScore:s.payload.winnerPlayer.finalScore,hintScore:s.payload.winnerPlayer.hintScore};Ae(t.gameStage[3],`${t.counter}: <b>${e}</b><br><br>\n                                                ${t.winner}<b>${n.nickname}</b><br>\n                                                ${t.winnerCount}<b>${n.finalScore}</b> (${t.hintCount}${n.hintScore})<br><br>\n                                                ${t.loser}<b>${a.nickname}</b><br>\n                                                ${t.loserCount}<b>${a.finalScore}</b> (${t.hintCount}${a.hintScore})<br>\n                                                `,`<button class="w3-button w3-white w3-hover-white w3-card-4 tr" onclick="window.location.href='/'">${t.backToMenu}</button>`)}if("notify"==s.payload.type)try{s.error.length>0&&(s.error.includes("your turn1")?(c=!1,ce()):(c=!0,ce()))}catch(q){}"userConnected"==s.payload.type&&console.log(s.payload.turn)}catch(q){console.log(q)}console.log(s);try{500==s[4].code&&window.location.refresh()}catch(q){}}let l=null,i=new B("curGameId");get("/game/current?token="+storage("token"),null,e=>{null===e.data.gameId?window.location="/":(a=e.data.gameId,i=new B(a))});let r,c=!1,A=0,m="",g="",p=[20],h=[-1,-1],w=!1,f=[],b=-1,v=[],y=13,C=[],k=[],I=0,_=-1,E=-1,Q=0,S=-1,H=[];const M={BLACK:1,WHITE:-1,HINT:"hint",SELECTOR:"selector"},T='<div class="w3-bar-item w3-card-4 main_color beetwin ">{MOVE}</div>';class x{constructor(e,t,a,n,o){this.label=e,this.stage=t,this.sender=a,this.enabled=!0,this.loseHinted=n,this.cost=o}}function L(e,t,a){w=!w,w?(se(),f=[],q("specialMessages").innerHTML=e):(q("specialMessages").innerHTML="",se()),b=t,r=function(){q("specialMessages").innerHTML="",a()}}async function D(e,t){K(!0),console.log("Fetching "+e),await t(),console.log("Hint fetched"),K(),N()}function J(e){return Math.max.apply(null,e)}async function N(){let e=await i.gameInfo(),t=e.data.credit_1,a=e.data.credit_2;q("whiteHints").innerHTML=a,q("blackHints").innerHTML=t}async function O(){let e=await i.gameInfo();for(let t of e.data.moves.split(";")){if(t.length<5)continue;let e="W"==t[0]?M.WHITE:M.BLACK,a="abcdefghijklm",n=a.indexOf(t[2]);if(n<0){le(e,e==M.WHITE?m:g,null,!1);continue}let o=a.indexOf(t[3]);le(e,e==M.WHITE?m:g,F(n,o),!1)}}function G(e){console.log("Fetched recommendation: "+e),Ae(t.hints.noAnswerTitle,t.hints.noAnswerText,!1)}let P=!1,$=[new x(t.hints.bestQuarter,1,(function(){D("best quarter",(async function(){const e=await i.heatmapBestZone();for(let t=0;t<y;t++)for(let a=0;a<y;a++)z(t,a)==e&&ae(t,a)}))}),!1,1),new x(t.hints.bestEnemyQuarter,1,(async function(){D("best enemy quarter",(async function(){const e=await i.heatmapEnemyBestZone();for(let t=0;t<y;t++)for(let a=0;a<y;a++)z(t,a)==e&&ae(t,a)}))}),!1,1),new x(t.hints.bestMoveOfSelected,1,(function(){L(t.hints.select4,4,(function(){D("best selected move",(async function(){let e=[];for(let t of f)e.push(F(t[0],t[1]));const a=await i.bestMovesOf(e);let n=R(a.data.hint);n[0]<0?Ae(t.hints.bestMoveOfSelected,t.hints.selectedError,!1):ae(n[0],n[1]),se()}))}))}),!0,2),new x(t.hints.bestMove1,0,(async function(){D("best move",(async function(){const e=await i.bestMoves(1);if("resign"==e||"pass"==e)return G(e);for(let t of e){if("resign"==t||"pass"==t)return G(e);let a=R(t);ne(a[0],a[1],3)}}))}),!1,3),new x(t.hints.bestMove2,0,(async function(){D("best moves (2)",(async function(){const e=await i.bestMoves(2);if("resign"==e||"pass"==e)return G(e);for(let t of e){if("resign"==t||"pass"==t)return G(e);let a=R(t);ne(a[0],a[1],2)}}))}),!1,3),new x(t.hints.bestMove4,0,(async function(){D("best moves (4)",(async function(){const e=await i.bestMoves(4);if("resign"==e||"pass"==e)return G(e);for(let t of e){if("resign"==t||"pass"==t)return G(e);let a=R(t);ae(a[0],a[1])}}))}),!1,3),new x(t.hints.heatmap,1,(async function(){D("heatmap",(async function(){const e=await i.fullHeatmap();let t=U(e),a=-1;for(let n of t){let e=J(n);e>a&&(a=e)}for(let n in t)for(let e in t[n]){let o=.9/(a/t[n][e]);o>0&&(o+=.02),ae(n,e,o)}}))}),!0,2),new x(t.hints.heatmap2Zones,1,(async function(){L(t.hints.select2,2,(async function(){D("heatmap quarter",(async function(){q("specialMessages").innerHTML=t.hints.fetching;let e=[z(f[0][0],f[0][1]),z(f[1][0],f[1][1])];const a=await i.heatmapQuarters(e);let n=U(a),o=-1;for(let t of n){let e=J(t);e>o&&(o=e)}for(let t in n)for(let e in n[t]){let a=.9/(o/n[t][e]);a>0&&(a+=.02),ae(t,e,a,!1)}q("specialMessages").innerHTML="",se()}))}))}),!0,2),new x(t.hints.heatmapZone,2,(async function(){L(t.hints.select1_z,1,(async function(){D("heatmap quarter",(async function(){q("specialMessages").innerHTML=t.hints.fetching;let e=z(f[0][0],f[0][1]);const a=await i.heatmapQuarter(e);let n=U(a),o=-1;for(let t of n){let e=J(t);e>o&&(o=e)}for(let t in n)for(let e in n[t]){let a=.9/(o/n[t][e]);a>0&&(a+=.02),ae(t,e,a,!1)}q("specialMessages").innerHTML="",se()}))}))}),!0,1),new x(t.hints.bestEnemyMove1,0,(async function(){D("protect zones (1)",(async function(){const e=await i.bestMovesEnemy(1);if("resign"==e||"pass"==e)return G(e);for(let t of e){if("resign"==t||"pass"==t)return G(e);let a=R(t);ne(a[0],a[1],3)}}))}),!1,3),new x(t.hints.bestEnemyMove4,0,(async function(){D("protect zones (4)",(async function(){const e=await i.bestMovesEnemy(4);if("resign"==e||"pass"==e)return G(e);for(let t of e){if("resign"==t||"pass"==t)return G(e);let a=R(t);ne(a[0],a[1],2)}}))}),!1,3),new x(t.hints.prediction10,0,(async function(){D("future moves (10)",(async function(){const e=await i.futureMoves(10);let t=.8,a=0;for(let n of e.data.hint){if("resign"==n.move||"pass"==n.move)return G(n.move);a++;let e=R(n.move);ae(e[0],e[1],t,a%2==1,a),t*=.95}}))}),!1,3),new x(t.hints.prediction6,1,(async function(){D("future moves (6)",(async function(){const e=await i.futureMoves(6);let t=.8,a=0;for(let n of e.data.hint){if("resign"==n.move||"pass"==n.move)return G(n.move);a++;let e=R(n.move);ae(e[0],e[1],t,a%2==1,a),t*=.95}}))}),!1,3),new x(t.hints.superiority,2,(async function(){D("superiority",(async function(){const e=await i.superiority();P=!(("W"==e.winner?M.WHITE:M.BLACK)==A),Ae(t.hints.superiority,`${t.hints.superiorityLabels.current}<b>${e.score}</b> (${t.hints.superiorityLabels.noHints})<br>\n                                                    ${t.hints.superiorityLabels.winner}<b>${"W"==e.winner?t.hints.superiorityLabels.white:t.hints.superiorityLabels.black}</b><br>${P?t.hints.superiorityLabels.loseNow:t.hints.superiorityLabels.winNow}`)}))}),!1,1)],j=!1,W=!1;function q(e){return document.getElementById(e)}function F(e,t){const a="ABCDEFGHJKLMN";return a[e]+(13-t)}function R(e){const t="ABCDEFGHJKLMN";return[t.indexOf(e[0]),13-e.slice(1,3)]}function z(e,t){return e<=y/2?t<=y/2?2:3:t<=y/2?1:4}function K(e){e&&oe(),c=!c,ce()}function U(e){for(let t in e)e[t]=e[t].reverse();return e}function Z(e){I=0,X();for(let t in e)for(let a in e[t])0!=e[t][a]&&(te(t,a,e[t][a]),I++);re()}function V(){if(h[0]>-1)try{q("block"+h[0]+"_"+h[1]+"_f").remove(),h=[-1,-1]}catch(q){}}function X(){k=[];for(let e=0;e<y;e++){let e=[];for(let t=0;t<y;t++)e.push(0);k.push(e)}for(let e of C)q(e).remove();C=[]}function Y(t,a,n){if(!c)return;let o=a,s=n;if(null!=t){if("div"==t.path[0].localName)return;let e=t.offsetX,a=t.offsetY,n=1*t.target.getAttribute("x"),l=1*t.target.getAttribute("y"),i=-1;if(e<p[0]&&a<p[0]?i=0:e>p[0]&&a<p[0]?i=1:e>p[0]&&a>p[0]?i=2:e<p[0]&&a>p[0]&&(i=3),-1==i)return;o=n+(1==i||2==i?1:0),s=l+(2==i||3==i?1:0)}if(0==k[o][s])if(w){for(let e of f)if(e[0]==o&&e[1]==s)return;te(o,s,M.SELECTOR)}else V(),c=!1,ce(),e.sendMove(F(o,s)),console.log("Sent move"),console.log(v),oe(),se()}function ee(e,t,a){if(!c)return V();let n=t,o=a;if(null!=e){if("div"==e.path[0].localName)return;let t=e.offsetX,a=e.offsetY,s=1*e.target.getAttribute("x"),l=1*e.target.getAttribute("y"),i=-1;if(t<p[0]&&a<p[0]?i=0:t>p[0]&&a<p[0]?i=1:t>p[0]&&a>p[0]?i=2:t<p[0]&&a>p[0]&&(i=3),-1==i)return;n=s+(1==i||2==i?1:0),o=l+(2==i||3==i?1:0)}if(0!=k[n][o])return V();if(h[0]!=n||h[1]!=o){V();let e=A;w&&(e=M.SELECTOR),te(n,o,e,"fantom")}}function te(e,t,a,n,o,s){let l=document.createElement("div");function i(){const a=e,n=t;l.onclick=function(){Y(null,a,n)}}function c(){const a=e,n=t;l.onmousemove=function(){ee(null,a,n)}}return l.setAttribute("id","block"+e+"_"+t),"fantom"==n&&(a+=" block_fantom",h=[e,t],l.setAttribute("id","block"+e+"_"+t+"_f")),a==M.HINT&&l.setAttribute("id","block"+e+"_"+t+"_h"),null!=q("x"+e+"y"+t)?(l.setAttribute("class","block block_0corner block_"+a),q("x"+e+"y"+t).appendChild(l)):q("x"+(e-1)+"y"+t)?(l.setAttribute("class","block block_1corner block_"+a),q("x"+(e-1)+"y"+t).appendChild(l)):q("x"+e+"y"+(t-1))?(l.setAttribute("class","block block_3corner block_"+a),q("x"+e+"y"+(t-1)).appendChild(l)):(l.setAttribute("class","block block_2corner block_"+a),q("x"+(e-1)+"y"+(t-1)).appendChild(l)),n||a==M.HINT||a==M.SELECTOR||C.push("block"+e+"_"+t),w&&"fantom"!=n?(f.push([e,t]),i(),c(),void(b>-1&&f.length>=b&&(w=!w,r()))):"hint"==a?(l.setAttribute("style","opacity:"+n),s&&(l.innerHTML=s),o&&l.setAttribute("class",l.getAttribute("class").replace("block_hint","block_hint_special")),c(),i()):void("fantom"!=n&&"hint"!=a?k[e][t]=a:(i(),c()))}function ae(e,t,a,n,o){0==k[e][t]&&(v.push([e,t]),te(e,t,M.HINT,a,n,o))}function ne(e,t,a,n){e+=Math.round(Math.random()*a)*(Math.random>.5?1:-1),t+=Math.round(Math.random()*a)*(Math.random>.5?1:-1),e<0&&(e=0),t<0&&(t=0),e>y-1&&(e=y-a),t>y-1&&(t=y-a);for(let o=e;o<e+a;o++)for(let s=t;s<t+a;s++)e<=y-1&&t<=y-1&&ae(o,s,n)}function oe(){for(let e of v)try{q("block"+e[0]+"_"+e[1]+"_h").className.includes("hint")&&q("block"+e[0]+"_"+e[1]+"_h").remove()}catch(q){}v=[]}function se(){for(let e of f)try{q("block"+e[0]+"_"+e[1]).className.includes("selector")&&q("block"+e[0]+"_"+e[1]).remove()}catch(q){}f=[]}function le(e,a,n,o,s){if(q("moveHistory").innerHTML+=T.replace("{MOVE}",`<i class="fas circle fa-circle w3-text-${1==e?"black":"white"}"></i> <span  class="textLimiter">${a}</span> <b>${null==n?t.pass:n}</b>`),H.push([e,a,n]),q("moveHistory").scrollTop=q("moveHistory").scrollHeight,s&&null!=n){let e=R(n);q("block"+e[0]+"_"+e[1]).innerHTML="O",q("block"+e[0]+"_"+e[1]).style.cssText="font-size:28px"}}function ie(){return O()}function re(){const a=["🟢","🟡","🔴","🏁"];q("blockCount").innerHTML=I;let n=0;if(I>27&&(n=1),I>108&&(n=2),S>-1&&(n=S),q("gameStage").innerHTML=t.gameStage[n],e.stage=a[n],q("recommendedHelpers").innerHTML="",q("allHelpers").innerHTML="",3!=n)for(let e of $){let a=document.createElement("button");e.enabled||a.setAttribute("disabled","true"),a.innerHTML=e.label+`<span class='hintcost'>${t.cost}<b>${e.cost} ${t.score}</b></span>`,a.onclick=e.sender,j&&a.setAttribute("disabled","true"),e.stage==n?(a.setAttribute("class","w3-button w3-hover-cyan tr helperButton"+(P&&e.loseHinted?" helperButtonCritical":"")),q("recommendedHelpers").appendChild(a)):(a.setAttribute("class","w3-button w3-hover-black tr helperButtonSmall"+(P&&e.loseHinted?" helperButtonSmallCritical":"")),q("allHelpers").appendChild(a))}else q("recommendedHelpersLabel").style.display="none",q("allHelpersButton").style.display="none",q("allHelpers").style.display="none";W&&(W=!1,q("allHelpersButton").click())}function ce(){for(let e of $)e.enabled=c;c?q("passButton").removeAttribute("disabled"):q("passButton").setAttribute("disabled","true"),re()}function Ae(e,a,n){n||(n=`<button class="w3-button w3-white w3-hover-white w3-card-4 tr" onclick="document.getElementById('modal').style.display='none'">${t.menu.close}</button>`),q("modal").style.display="block",q("modalHeader").innerHTML=e,q("modalText").innerHTML=a,q("modalFooter").innerHTML=n}let ue=!0;function de(){if(3==S)return;function e(e){let t=Math.floor(-e/1e3),a=Math.floor(t/60);return t%=60,t<10&&(t="0"+t),a+":"+t}let t=(new Date).getTime(),a=t-E,n=t-_;Q==M.WHITE&&n>0?q("whiteTimer").innerHTML="0:00":Q==M.BLACK&&a>0?q("blackTimer").innerHTML="0:00":(ue&&(q("whiteTimer").innerHTML=e(n),q("blackTimer").innerHTML=e(a),ue=!1),(Q==M.WHITE||q("whiteTimer").innerHTML.length>5)&&(q("whiteTimer").innerHTML=e(n)),(Q==M.BLACK||q("blackTimer").innerHTML.length>5)&&(q("blackTimer").innerHTML=e(a)))}setTimeout(async()=>{for(let e=0;e<y;e++){let e=[];for(let t=0;t<y;t++)e.push(0);k.push(e)}let a=document.createElement("table");function n(e){let t=document.createElement("tr"),n=" ABCDEFGHJKLMN ";for(let a=0;a<y+1;a++){let o=document.createElement("td");o.setAttribute("class","empty_cell"),o.innerHTML="top"!=e||0!=a&&a!=y?"<b class='letter letter_"+e+"'>"+n[a]+"</b>":`<b class='number${0==a?" number_right":" number_left"}'>1</b>`,"top"==e&&a==y&&(o.innerHTML+="<b class='letter letter_"+e+"'>"+n[a]+"</b>"),t.appendChild(o)}a.appendChild(t)}function o(e,t){let a=document.createElement("td");return a.setAttribute("class","empty_cell"),a.innerHTML=`<b class='number${t?" number_right":" number_left"}'>`+e+"</b>",a}a.setAttribute("class","blockTable"),a.setAttribute("cellspacing",0),a.setAttribute("cellpadding",0),n("bottom");for(let e=0;e<y-1;e++){let t=document.createElement("tr");a.appendChild(t),t.appendChild(o(y-e,!0));for(let a=0;a<y-1;a++){let n=document.createElement("td");if(n.setAttribute("class","cell"),n.setAttribute("x",a),n.setAttribute("y",e),n.setAttribute("id","x"+a+"y"+e),n.onclick=Y,n.onmousemove=ee,(3==e||9==e)&&(2==a||8==a)||6==e&&5==a){let e=document.createElement("div");e.setAttribute("class","roundmarker"),n.appendChild(e)}t.appendChild(n)}t.appendChild(o(y-e))}n("top"),q("game").appendChild(a),re(),q("allHelpersButton").onclick=function(){W=!W,W?(this.innerHTML=t.hideAll,q("allHelpers").style.display="block"):(this.innerHTML=t.allHints,q("allHelpers").style.display="none")},q("passButton").onclick=e.sendPass,q("resignButton").onclick=e.sendResign,l=new d["w3cwebsocket"]("ws://185.22.62.66:41239"),l.onopen=function(){console.log(l),l.send(JSON.stringify([7,"go/game",{command:"auth",token:storage("token"),game_id:storage("curGameId")}]))},l.onmessage=s,e.client=l;let i=await e.loadGame();console.log(i)},10),setInterval(de,1e3)}},H=S,M=(a("568f"),Object(p["a"])(H,I,_,!1,null,null,null)),T=M.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticClass:"gobanTexture",attrs:{id:"game"}}),a("br"),a("h2",{staticClass:"w3-text-white"},[a("button",{staticClass:"w3-button tr w3-medium w3-hover-aqua",attrs:{id:"lButton"}},[e._v("←")]),e._v(" "+e._s(e.localeData.moves)+" "),a("button",{staticClass:"w3-button tr w3-medium w3-hover-aqua",attrs:{id:"rButton"}},[e._v("→")])]),a("div",{attrs:{id:"moveStoryShort"}})]),a("div",{staticClass:"w3-sidebar w3-bar-block w3-white",staticStyle:{width:"270px",left:"0",top:"0px","line-height":"2",overflow:"hidden"}},[a("div",{staticClass:"w3-container w3-card-2 w3-center",staticStyle:{padding:"10px"}},[e._v("GoAssistant")]),a("div",{staticClass:"w3-center"},[e._v(e._s(e.localeData.viewMode))]),a("button",{staticClass:"w3-button w3-hover-cyan tr helperButton",attrs:{onclick:"window.location.href = '/passport'"}},[e._v(e._s(e.localeData.backToProfile))]),a("div",{staticClass:"bar",staticStyle:{overflow:"auto","padding-bottom":"40px"}},[a("div",{staticClass:"section"},[a("div",[e._v("⚫ "),a("b",{staticClass:"textLimiter",attrs:{id:"blackPlayerName"}},[e._v(e._s(e.localeData.loading))])]),a("div",[e._v("⚪ "),a("b",{staticClass:"textLimiter",attrs:{id:"whitePlayerName"}},[e._v(e._s(e.localeData.loading))])])]),a("div",{staticClass:"section"},[a("span",{staticClass:"opposite"},[a("div",[e._v(e._s(e.localeData.onBoard)+": ")]),a("b",{attrs:{id:"blockCount"}},[e._v("0")])]),a("span",{staticClass:"opposite"},[a("div",[e._v(e._s(e.stage)+" "+e._s(e.localeData.gameStage)+" ")]),a("b",{attrs:{id:"gameStage"}},[e._v("N/A")])])])])]),a("div",{staticStyle:{right:"0",top:"0",position:"absolute"}},[a("button",{staticClass:"w3-button w3-card-4 tr w3-text-white w3-large",attrs:{onclick:"document.getElementById('gameStoryBar').style.display = 'block'"}},[e._v("☰ "+e._s(e.localeData.historyShort))])]),a("div",{staticClass:"w3-sidebar w3-bar-block w3-white w3-animate-right",staticStyle:{width:"270px",right:"0",top:"0px",overflow:"hidden",display:"none"},attrs:{id:"gameStoryBar"}},[a("div",{staticClass:"w3-container w3-card-4 w3-center",staticStyle:{padding:"10px"}},[e._v(" "+e._s(e.localeData.history)+" "),a("span",{staticClass:"w3-button w3-display-topright tr",attrs:{onclick:"document.getElementById('gameStoryBar').style.display='none'"}},[e._v("×")])]),a("div",{staticStyle:{overflow:"auto","max-height":"calc(100% - 25px)","padding-bottom":"18px"},attrs:{id:"moveHistory"}})]),e._m(0)])},L=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w3-modal",attrs:{id:"modal"}},[a("div",{staticClass:"w3-modal-content w3-animate-top w3-card-4"},[a("header",{staticClass:"w3-container w3-purple"},[a("h2",{attrs:{id:"modalHeader"}},[e._v("-")])]),a("div",{staticClass:"w3-container"},[a("p",{attrs:{id:"modalText"}},[e._v("Some text..")])]),a("footer",{staticClass:"w3-container w3-purple",attrs:{id:"modalFooter"}})])])}],D={name:"GameHistory",data(){return{game:null,client:null,stage:"🟢",moveIndex:0,locale:null,localeData:{loading:"",onBoard:"",gameStage:"",historyShort:"",history:"",moves:"",viewMode:"",backToProfile:""}}},methods:{async loadGame(e){return get("/game/info/"+e+"?token="+storage("token"),null,e=>e,e=>{window.location.href="/passport"})}},async created(){let e=this;null==localStorage.getItem("lang")&&localStorage.setItem("lang","ru"),e.locale=new u(localStorage.getItem("lang"));let t=e.locale.language;this.localeData.loading=t.loading,this.localeData.onBoard=t.onBoard,this.localeData.gameStage=t.gameStage.label,this.localeData.historyShort=t.historyShort,this.localeData.history=t.history,this.localeData.moves=t.moves,this.localeData.viewMode=t.viewMode,this.localeData.backToProfile=t.backToProfile;let a=localStorage.getItem("watchGameId"),n=await this.loadGame(a),o=JSON.parse(n.data.log);console.log(n);let s=13,l=[],i=[],r=0,c=n.data.player_1.nickname,A=n.data.player_2.nickname;const d={BLACK:1,WHITE:-1,HINT:"hint",SELECTOR:"selector"},m='<div class="w3-bar-item w3-card-4 main_color w3-hover-purple beetwin clickableMove tr" id="move{INDEX}">{MOVE}</div>';function g(e){return document.getElementById(e)}function p(e,t){const a="ABCDEFGHJKLMN";return a[e]+(13-t)}function h(e){for(let t in e)e[t]=e[t].reverse();return e}for(let u in o)o[u]=h(o[u]);function w(e){r=0,f();for(let t in e)for(let a in e[t])0!=e[t][a]&&(k(t,a,e[t][a]),r++);I()}function f(){i=[];for(let e=0;e<s;e++){let e=[];for(let t=0;t<s;t++)e.push(0);i.push(e)}for(let e of l)g(e).remove();l=[]}function b(){let e=n;for(let t of e.data.moves.split(";")){if(t.length<5)continue;let e="W"==t[0]?d.WHITE:d.BLACK,a="abcdefghijklm",n=a.indexOf(t[2]);if(n<0){C(e,e==d.WHITE?A:c,null);continue}let o=a.indexOf(t[3]);C(e,e==d.WHITE?A:c,p(n,o))}}b();let v=-1;function y(e){w(o[e]),v>-1&&(g("move"+v).setAttribute("class","w3-bar-item w3-card-4 main_color w3-hover-purple beetwin clickableMove tr"),g("moves"+v).setAttribute("class",g("moves"+v).getAttribute("class").replace(" clickedStoryBlock",""))),g("move"+e).setAttribute("class","w3-bar-item w3-card-4 w3-blue w3-hover-blue beetwin clickableMove tr"),g("moves"+e).setAttribute("class",g("moves"+e).getAttribute("class")+" clickedStoryBlock"),v=e}function C(a,n,o,s){let l=document.createElement("span"),i=document.createElement("div");function r(e){const t=1*e;l.onclick=function(){y(t)},i.onclick=function(){y(t)}}l.innerHTML=m.replace("{MOVE}",`<i class="fas circle fa-circle w3-text-${1==a?"black":"white"}"></i> <span  class="textLimiter">${n}</span> <b>${null==o?t.pass:o}</b>`).replace("{INDEX}",null==o?"-2":e.moveIndex),null!=o?(i.setAttribute("class","storyBlock tr block_"+a),i.setAttribute("id","moves"+e.moveIndex),i.innerHTML=1*e.moveIndex+1,r(e.moveIndex),g("moveStoryShort").appendChild(i),e.moveIndex++):l.innerHTML=l.innerHTML.replace("clickableMove ","").replace("w3-hover-purple ",""),g("moveHistory").appendChild(l),g("moveHistory").scrollTop=g("moveHistory").scrollHeight}function k(e,t,a,n,o,s){let r=document.createElement("div");r.setAttribute("id","block"+e+"_"+t),"fantom"==n&&(a+=" block_fantom",fantom=[e,t],r.setAttribute("id","block"+e+"_"+t+"_f")),a==d.HINT&&r.setAttribute("id","block"+e+"_"+t+"_h"),null!=g("x"+e+"y"+t)?(r.setAttribute("class","block block_0corner block_"+a),g("x"+e+"y"+t).appendChild(r)):g("x"+(e-1)+"y"+t)?(r.setAttribute("class","block block_1corner block_"+a),g("x"+(e-1)+"y"+t).appendChild(r)):g("x"+e+"y"+(t-1))?(r.setAttribute("class","block block_3corner block_"+a),g("x"+e+"y"+(t-1)).appendChild(r)):(r.setAttribute("class","block block_2corner block_"+a),g("x"+(e-1)+"y"+(t-1)).appendChild(r)),l.push("block"+e+"_"+t),i[e][t]=a}function I(){const a=["🟢","🟡","🔴","🏁"];g("blockCount").innerHTML=r;let n=0;r>27&&(n=1),r>108&&(n=2),g("gameStage").innerHTML=t.gameStage[n],e.stage=a[n]}setTimeout(()=>{for(let n=0;n<s;n++){let e=[];for(let t=0;t<s;t++)e.push(0);i.push(e)}let e=document.createElement("table");function t(t){let a=document.createElement("tr"),n=" ABCDEFGHJKLMN ";for(let e=0;e<s+1;e++){let o=document.createElement("td");o.setAttribute("class","empty_cell"),o.innerHTML="top"!=t||0!=e&&e!=s?"<b class='letter letter_"+t+"'>"+n[e]+"</b>":`<b class='number${0==e?" number_right":" number_left"}'>1</b>`,"top"==t&&e==s&&(o.innerHTML+="<b class='letter letter_"+t+"'>"+n[e]+"</b>"),a.appendChild(o)}e.appendChild(a)}function a(e,t){let a=document.createElement("td");return a.setAttribute("class","empty_cell"),a.innerHTML=`<b class='number${t?" number_right":" number_left"}'>`+e+"</b>",a}e.setAttribute("class","blockTable"),e.setAttribute("cellspacing",0),e.setAttribute("cellpadding",0),t("bottom");for(let n=0;n<s-1;n++){let t=document.createElement("tr");e.appendChild(t),t.appendChild(a(s-n,!0));for(let e=0;e<s-1;e++){let a=document.createElement("td");a.setAttribute("class","cell"),a.setAttribute("x",e),a.setAttribute("y",n),a.setAttribute("id","x"+e+"y"+n),t.appendChild(a)}t.appendChild(a(s-n))}t("top"),g("game").appendChild(e),I(),g("blackPlayerName").innerHTML=n.data.player_1.nickname,g("whitePlayerName").innerHTML=n.data.player_2.nickname,document.addEventListener("keydown",e=>{39!=e.keyCode&&68!=e.keyCode||g("rButton").click(),37!=e.keyCode&&65!=e.keyCode||g("lButton").click()}),g("rButton").onclick=function(){v+1>=o.length||(g("moveStoryShort").scrollLeft=40*v,y(v+1))},g("lButton").onclick=function(){v-1<0||(g("moveStoryShort").scrollLeft=40*(v-11),y(v-1))}},10)}},J=D,N=(a("8744"),Object(p["a"])(J,x,L,!1,null,null,null)),O=N.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"menu"},[a("article",{staticClass:"form_window menu"},[a("h1",{staticClass:"title"},[e._v(e._s(e.localeData.private))]),a("div",{},[a("router-link",{staticClass:"button full-width w3-button w3-card-4 tr w3-hover-white god",attrs:{to:"/closegame/newgame"}},[e._v(e._s(e.localeData.create))]),a("router-link",{staticClass:"button full-width w3-button w3-card-4 tr w3-hover-white join",attrs:{to:"/closegame/joingame"}},[e._v(e._s(e.localeData.connect))]),a("router-link",{staticClass:"button full-width w3-button w3-card-4 tr w3-hover-white back-button",attrs:{to:"/"}},[e._v(e._s(e.localeData.back))])],1)])])},P=[],$={name:"CloseGame",data(){return{locale:null,localeData:{private:"",create:"",connect:"",back:""}}},components:{},methods:{},created(){null==localStorage.getItem("lang")&&localStorage.setItem("lang","ru"),this.locale=new u(localStorage.getItem("lang"));let e=this.locale.language;this.localeData.private=e.menu.private,this.localeData.create=e.menu.create,this.localeData.connect=e.menu.connect,this.localeData.back=e.menu.back}},j=$,W=Object(p["a"])(j,G,P,!1,null,null,null),q=W.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"menu"},[a("aside",{directives:[{name:"show",rawName:"v-show",value:e.search,expression:"search"}],staticClass:"modal loading"},[a("header",{staticClass:"modal"},[a("h1",{staticClass:"modal"},[e._v(e._s(e.localeData.waiting))]),a("span"),e._m(0)])]),a("article",{staticClass:"form_window menu"},[a("h1",{staticClass:"title"},[e._v(e._s(e.localeData.fillCode))]),a("div",{},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"input",attrs:{type:"text",placeholder:"code"},domProps:{value:e.code},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.join()},input:function(t){t.target.composing||(e.code=t.target.value)}}}),a("button",{staticClass:"button full-width w3-button w3-card-4 tr w3-hover-white",attrs:{disabled:4!=e.code.length},on:{click:function(t){return e.join()}}},[e._v(e._s(e.localeData.connect))]),a("router-link",{staticClass:"button full-width w3-button w3-card-4 tr w3-hover-white back-button",attrs:{to:"/closegame"}},[e._v(e._s(e.localeData.back))])],1)]),e._m(1)])},R=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lds-ellipsis"},[a("div"),a("div"),a("div"),a("div")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w3-modal",attrs:{id:"modal"}},[a("div",{staticClass:"w3-modal-content w3-animate-top w3-card-4"},[a("header",{staticClass:"w3-container w3-purple"},[a("span",{staticClass:"w3-button w3-display-topright",attrs:{onclick:"document.getElementById('modal').style.display='none'"}},[e._v("×")]),a("h2",{attrs:{id:"modalHeader"}},[e._v("-")])]),a("div",{staticClass:"w3-container"},[a("p",{attrs:{id:"modalText"}},[e._v("Some text..")])]),a("footer",{staticClass:"w3-container w3-purple",attrs:{id:"modalFooter"}})])])}],z={name:"JoinToCloseGame",data(){return{code:"",search:!1,locale:null,localeData:{waiting:"",fillCode:"",connect:"",back:""}}},components:{},methods:{showModal(e,t){document.getElementById("modal").style.display="block",document.getElementById("modalHeader").innerHTML=e,document.getElementById("modalText").innerHTML=t,document.getElementById("modalFooter").innerHTML=`<button class="w3-button w3-white w3-hover-white w3-card-4 tr" onclick="document.getElementById('modal').style.display='none'">${this.locale.language.menu.close}</button>`},join(){this.search=!0,post("/game/join/"+this.code+"?token="+storage("token"),{token:storage("token")},e=>{get("/game/current?token="+storage("token"),null,e=>{null===e.data.gameId?window.location="/":(setStorage("curGameId",e.data.gameId),window.location="/game")}),console.log("DATA",e)},e=>{this.search=!1,this.showModal(this.locale.language.menu.gameConnection,this.locale.language.menu.gameNotFound)})}},created(){null==localStorage.getItem("lang")&&localStorage.setItem("lang","ru"),this.locale=new u(localStorage.getItem("lang"));let e=this.locale.language;this.localeData.waiting=e.menu.waiting,this.localeData.fillCode=e.menu.fillGobanCode,this.localeData.connect=e.menu.connect,this.localeData.back=e.menu.back}},K=z,U=Object(p["a"])(K,F,R,!1,null,null,null),Z=U.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"menu",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.startGame()}}},[a("aside",{directives:[{name:"show",rawName:"v-show",value:e.search,expression:"search"}],staticClass:"modal loading"},[a("header",{staticClass:"modal"},[a("h1",{staticClass:"modal"},[e._v(e._s(e.localeData.waiting))]),a("span"),e._m(0)])]),a("article",{staticClass:"form_window menu"},[a("h1",{staticClass:"title"},[e._v(e._s(e.localeData.gobanCode))]),a("div",{},[a("div",{staticClass:"output full-width",staticStyle:{"text-align":"center",width:"100%"}},[e._v(e._s(e.code))]),a("button",{staticClass:"button full-width w3-button w3-card-4 tr w3-hover-white",attrs:{disabled:1==e.search},on:{click:function(t){return e.startGame()}}},[e._v(e._s(e.localeData.start))]),a("router-link",{staticClass:"button full-width w3-button w3-card-4 tr w3-hover-white back-button",attrs:{to:"/closegame"}},[e._v(e._s(e.localeData.back))])],1)])])},X=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lds-ellipsis"},[a("div"),a("div"),a("div"),a("div")])}],Y={name:"NewCloseGame",data(){return{code:"XXXX",client:!1,search:!1,locale:null,localeData:{waiting:"",gobanCode:"",start:"",back:""}}},components:{},methods:{startGame(){console.log(112),this.search=!0,this.client.send(JSON.stringify([5,"go/game"])),this.client.send(JSON.stringify([7,"go/game",{command:"auth",token:storage("token"),game_id:storage("curGameId")}]))}},created(){null==localStorage.getItem("lang")&&localStorage.setItem("lang","ru"),this.locale=new u(localStorage.getItem("lang"));let e=this.locale.language;this.localeData.waiting=e.menu.waitingEnemy,this.localeData.gobanCode=e.menu.gobanCode,this.localeData.start=e.menu.start,this.localeData.back=e.menu.back,post("/game/create/code",{token:storage("token")},e=>{setStorage("secretRoom",e.data.code),setStorage("curGameId",e.data.gameId),this.code=storage("secretRoom");const t=new d["w3cwebsocket"]("ws://185.22.62.66:41239");t.onopen=function(){console.log(t)},t.onmessage=function(t){let a=JSON.parse(t.data).payload;"userConnected"==a.type&&(get("/user/profile?token="+storage("token"),null,e=>{console.log("DATA",e),e.data.user.id!==a.userId&&(window.location="/game")}),console.log(11)),console.log(e)},this.client=t,console.log(e.data.code)})}},ee=Y,te=Object(p["a"])(ee,V,X,!1,null,null,null),ae=te.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return!1!==e.user?a("main",{staticClass:"menu"},[a("article",{staticClass:"window menu"},[a("h1",{staticClass:"title"},[e._v(e._s(e.localeData.profile))]),a("div",{staticClass:"back"},[a("img",{staticClass:"avatar-image",attrs:{src:e.user.avatar}}),a("div",{staticClass:"back-profile"},[a("div",{staticClass:"output-passport full-width"},[e._v(e._s(e.localeData.nick)+e._s(e.user.nickname))]),a("div",{staticClass:"output-passport full-width"},[e._v(e._s(e.localeData.mail)+e._s(e.user.email))]),a("div",{staticClass:"output-passport full-width"},[e._v(e._s(e.user.pts)+" pts")])]),a("router-link",{staticClass:"button full-width w3-button w3-card-4 tr w3-hover-white back-button",attrs:{to:"/"}},[e._v(e._s(e.localeData.back))]),a("div",{staticClass:"score-table"},e._l(e.user.games_history.reverse(),(function(t){return a("div",{staticClass:"output full-width score-td w3-hover-purple tr",staticStyle:{cursor:"pointer"},on:{click:function(a){return e.gameView(t.game_id)}}},[a("img",{attrs:{src:t.player.avatar}}),a("div",{staticClass:"score-name"},[e._v(e._s(t.player.nickname.length>15?t.player.nickname.slice(0,15)+"...":t.player.nickname))]),a("div",[e._v(e._s(t.score)+" / "+e._s(t.scoreOpponent))])])})),0)],1)])]):e._e()},oe=[],se={name:"Passport",data(){return{user:!1,nick:"ex@m1e",email:"example@example.com",rait:"NN",ava:"https://www.castorama.ru/media/catalog/product/cache/image/1800x/040ec09b1e35df139433887a97daa66f/2/e/2ef250_510229_1.jpg",card:{ava:"https://www.castorama.ru/media/catalog/product/cache/image/1800x/040ec09b1e35df139433887a97daa66f/2/e/2ef250_510229_1.jpg",nick:"badexample"},locale:null,localeData:{profile:"",nick:"",mail:"",back:""}}},components:{},methods:{logout(){setStorage("token",null),window.location=window.location},gameView(e){setStorage("watchGameId",e),window.location="/game/view"}},created(){null==localStorage.getItem("lang")&&localStorage.setItem("lang","ru"),this.locale=new u(localStorage.getItem("lang"));let e=this.locale.language;this.localeData.profile=e.menu.profile,this.localeData.nick=e.menu.nickname,this.localeData.mail=e.menu.mail,this.localeData.back=e.menu.back,get("/user/profile?token="+storage("token"),null,e=>{this.user=e.data.user,console.log(this.user)})}},le=se,ie=(a("82db"),Object(p["a"])(le,ne,oe,!1,null,"be1c646e",null)),re=ie.exports;n["a"].use(o["a"]);const ce=[{path:"/",name:"Home",component:w},{path:"/login",name:"Authorization",component:k},{path:"/closegame",name:"CloseGame",component:q},{path:"/closegame/joingame",name:"JoinToCloseGame",component:Z},{path:"/closegame/newgame",name:"NewCloseGame",component:ae},{path:"/passport",name:"Passport",component:re},{path:"/game",name:"Game",component:T},{path:"/game/view",name:"GameView",component:O}],Ae=new o["a"]({mode:"history",routes:ce});t["a"]=Ae},c457:function(e,t,a){},c500:function(e,t,a){},d6db:function(e,t,a){"use strict";a("e67a")},da7d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAicSURBVHic7dmhTURBAEXRHfJ7QOBBUxJlQg0kWPwqDPkIVmCGLmbEPaeCJ2/yxpzzAgC03O0eAACsJwAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAoOP1/fq7ewQAsNY4z3PuHgEArOUCAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQNC4f3mbu0cAAGsdXz9/uzcAAIu5AAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACDoebt+7NwAAi43Py9PcPQIAWMsFAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgKDj4/H5tnsEALDWmHPu3gAALOYCAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAE/QOz6xxIGTlAZAAAAABJRU5ErkJggg=="},e67a:function(e,t,a){}});
//# sourceMappingURL=app.5db1c307.js.map